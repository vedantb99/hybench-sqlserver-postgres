import pandas as pd
import matplotlib.pyplot as plt

# Load your dataset into a DataFrame
data = """lists probes k recall idx_ms accel
800 20 10 100 9.222 400.80166991975716
800 50 10 100 18.455 200.2813871579518
600 50 10 100 26.063 141.81763419406823
1000 50 10 100 31.203 118.45633432682756
800 100 10 100 40.756 90.69076945725783
1000 100 10 100 41.702 88.6334708167474
600 100 10 100 45.633 80.99824688273837
400 50 10 100 53.97 68.48606633314805
400 100 10 100 70.067 52.75226568855525
200 20 10 100 85.976 42.9909858565181
200 50 10 100 158.997 23.246935476770002
200 100 10 100 216.281 17.08977210203393
1000 20 10 90 6.9 535.6801449275363
600 20 10 90 11.569 319.4911401158268
400 20 10 90 16.936 218.24474492205954
200 10 10 90 25.615 144.29798945930122
400 10 10 80 9.354 395.1457130639299
1000 10 10 70 5.385 686.3868152274838
600 10 10 70 8.297 445.48547667831747
800 10 10 70 8.928 414.00011200716847
200 5 10 70 22.328 165.54071121461843
1000 5 10 60 9.29 397.867922497309
400 5 10 60 11.843 312.09938360212783
600 5 10 50 15.468 238.95739591414534
800 5 10 10 12.062 306.43284695738686
1000 50 20 100 18.693 197.73139677954313
600 50 20 100 23.381 158.08532569180105
1000 100 20 100 32.88 112.41462895377128
600 100 20 100 56.357 65.58533988679312
200 50 20 100 84.977 43.49639314167363
200 100 20 100 118.728 31.131603328616674
800 100 20 95 37.866 97.6124491628373
400 50 20 95 49.677 74.40451315498119
400 100 20 95 65.593 56.35041848977787
200 20 20 95 113.758 32.49171926370014
1000 20 20 90 6.386 578.7962730974006
800 20 20 90 6.986 529.0857429144003
600 20 20 90 11.238 328.90131696031324
800 50 20 90 16.626 222.31402622398653
400 20 20 85 14.881 248.38337477320073
400 10 20 80 7.195 513.7168867268937
200 10 20 80 25.545 144.69340379722058
1000 10 20 75 4.615 800.9085590465872
600 10 20 75 6.121 603.8544355497468
1000 5 20 65 4.896 754.9413807189543
200 5 20 65 27.019 136.79977053184797
800 10 20 60 3.693 1000.8646087191985

400 5 20 60 7.877 469.2386695442428

600 5 20 50 6.221 594.1477254460698

800 5 20 20 5.319 694.9037413047566

1000 100 50 100 40.728 90.75311824788844

600 100 50 100 48.241 76.61932795754649

200 50 50 100 90.17 40.99138294332927

200 100 50 100 144.307 25.613400597337623

600 50 50 98 24.18 152.86157981803143

400 50 50 98 44.638 82.80373224606838

400 100 50 98 71.578 51.638673894213305

1000 50 50 96 17.437 211.97413545908125

800 100 50 96 48.496 76.2164508413065

200 20 50 96 82.574 44.76218906677647

800 50 50 92 19.989 184.91135124318376

800 20 50 86 8.821 419.02199297131847

600 20 50 86 11.811 312.9449665565998

1000 20 50 84 10.131 364.83989734478337

400 20 50 84 18.205 203.03174951936285

400 10 50 72 12.18 303.46412151067324

200 10 50 72 25.582 144.4841294660308

600 10 50 68 10.922 338.41723127632304

800 10 50 62 7.761 476.2521582270326

1000 10 50 62 9.821 376.35607371958054

200 5 50 62 51.467 71.81675636815824

400 5 50 52 16.71 221.19646918013166

1000 5 50 46 14.57 253.68517501715854

600 5 50 44 13.913 265.664702077194

800 5 50 26 55.066 67.12296153706461

1000 100 100 100 38.391 96.27759110208123

600 100 100 100 43.338 85.28757672250681

200 50 100 100 79.694 46.37981529349763

200 100 100 100 118.246 31.25850345889079

400 50 100 99 36.859 100.27925337095418

400 100 100 99 64.989 56.8741325455077

600 50 100 98 21.679 170.49647123944834

1000 50 100 98 24.23 152.546141147338

800 100 100 98 38.827 95.19646122543591

200 20 100 97 85.72 43.11937704153057

800 50 100 95 17.196 214.9449290532682

400 20 100 90 17.086 216.32874868313243

600 20 100 89 14.628 252.67931364506427

800 20 100 87 9.783 377.8179495042421

200 10 100 81 22.946 161.08223655539092

1000 20 100 76 10.69 345.76173994387284

400 10 100 76 21.003 175.98404989763367

600 10 100 69 8.858 417.2717317678934

200 5 100 67 67.744 54.561186230514885

800 10 100 65 9.44 391.54586864406787

1000 10 100 51 22.122 167.0822258385318

600 5 100 50 25.817 143.16895843823838

400 5 100 45 23.763 155.54403905230822

800 5 100 37 21.86 169.0847666971638

1000 5 100 33 26.235 140.88785972936918

1000 100 200 100 28.035 131.84209024433744

600 100 200 100 42.831 86.29714459153416

200 50 200 100 110.739 33.37751830881623

200 100 200 100 126.203 29.28767937370744

400 100 200 99.5 63.495 58.212347428931416

800 100 200 99 35.395 104.4269812120356

400 50 200 99 35.446 104.276730801783

1000 50 200 98.5 22.026 167.8104512848452

600 50 200 98.5 23.211 159.2431605704192

800 50 200 97 17.037 216.95093032810942

200 20 200 97 75.158 49.17896963729743

400 20 200 93 19.798 186.69527224972222

600 20 200 91.5 18.419 200.67283783050112

800 20 200 89 11.201 329.987768949201

200 10 200 86 28.981 127.53849073530934

1000 20 200 83 15.353 240.74728066175993

400 10 200 77.5 25.439 145.29631667911477

200 5 200 74.5 105.77 34.945570577668526

800 10 200 71.5 13.602 271.73893545066903

600 10 200 70 16.66 221.86032412965187

1000 10 200 57.99999999999999 42.421 87.1312085995144

600 5 200 53.5 52.791 70.01558977856075

400 5 200 50.5 45.367 81.47316331253997

800 5 200 45.5 38.713 95.47679074212797
1000 5 200 27 55.83 66.20442414472507

600 100 500 100 43.701 84.57914006544473
200 100 500 100 110.585 33.42399963828729

200 50 500 100 117 31.591393162393164
400 100 500 99.6 68.888 53.65510684008826
800 100 500 99.4 40.01 92.3817295676081

400 50 500 99.2 47.022 78.60561013993451
600 50 500 99 26.691 138.48087370274627
1000 100 500 99 35.039 105.48797054710465
800 50 500 97.6 19.892 185.81304041825862
1000 50 500 97.6 30.105 122.77671483142336
200 20 500 97.6 63.606 58.1107599911958
600 20 500 94.39999999999999 32.093 115.17131461689465
400 20 500 93.8 30.866 119.74965981986652
800 20 500 92 22.812 162.0284499386288
200 10 500 90.4 47.071 78.52378322109155
1000 20 500 86.8 43.938 84.1229232099777
200 5 500 81.39999999999999 207.555 17.808258052082582
800 10 500 79.60000000000001 31.264 118.22521110542478

400 10 500 79 36.846 100.31463388156111

600 10 500 72.6 32.117 115.08525080175609

1000 10 500 63.4 107.207 34.477161006277576

600 5 500 58.4 151.622 24.377682658189443

400 5 500 58.199999999999996 117.679 31.409112925840635

800 5 500 56.8 123.745 29.869433108408423

1000 5 500 19.8 121.823 30.3406827938895

"""

import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Convert your dataset string into a DataFrame
from io import StringIO
df = pd.read_csv(StringIO(data), sep=" ")

# Pivot tables for heatmaps
recall_pivot = df.pivot_table(index="lists", columns="probes", values="recall", aggfunc="mean")
latency_pivot = df.pivot_table(index="lists", columns="probes", values="idx_ms", aggfunc="mean")

# Plot Recall Heatmap
plt.figure(figsize=(8,6))
sns.heatmap(recall_pivot, annot=True, fmt=".1f", cmap="YlGnBu")
plt.title("Recall Heatmap (Lists vs Probes)")
plt.xlabel("Probes")
plt.ylabel("Lists")
plt.savefig("recall_heatmap.png")

# Plot Latency Heatmap
plt.figure(figsize=(8,6))
sns.heatmap(latency_pivot, annot=True, fmt=".1f", cmap="YlOrRd")
plt.title("Latency Heatmap (Lists vs Probes)")
plt.xlabel("Probes")
plt.ylabel("Lists")
plt.savefig("latency_heatmap.png")
